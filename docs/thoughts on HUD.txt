Okay.  The system section is fine, we can update that later.  System.memory should only be total, and free.  Put meta right after system.  Keep instructions, "available_actions" should just be "actions", get rid of available_actions._note.  Get rid of the category separation of actions, just use action names that have dot path to clarify what they're relevant to, presumably that should be basically self-documenting for AI, then of course include the expected inputs, and if there are limited options for any of those inputs (like the agent model options, for example).  Also, for the purposes of making things easier for bundling, I think we add a "from_agent" field for input on any actions that specifically come from an agent, that way bundled agent data in a single heartbeat can still be parsed into actions easily.  Regarding rooms, I think we can get some token efficiency here from bundling, since each room will only need to be shown once regardless of how many agents are in it, since it's just going to show the latest chat history which will be the same for all agents.  So rooms should only need to be the rooms that any bundled agents in that heartbeat are in.  Actually let's call them agent_rooms, and they'll have these fields:  agent_id, member list, messages.